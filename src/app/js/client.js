!function e(t,i,n){function a(s,o){if(!i[s]){if(!t[s]){var u="function"==typeof require&&require;if(!o&&u)return u(s,!0);if(r)return r(s,!0);var l=new Error("Cannot find module '"+s+"'");throw l.code="MODULE_NOT_FOUND",l}var c=i[s]={exports:{}};t[s][0].call(c.exports,function(e){var i=t[s][1][e];return a(i||e)},c,c.exports,e,t,i,n)}return i[s].exports}for(var r="function"==typeof require&&require,s=0;s<n.length;s++)a(n[s]);return a}({1:[function(e,t,i){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(i,"__esModule",{value:!0});var s=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),o=function(e){return e&&e.__esModule?e:{default:e}}(e("./Point")),u=function(e){function t(e,i,r){n(this,t);var s=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,i));return s.radius=r,s.classType="Circle",s}return r(t,o.default),s(t,[{key:"inteceptLineSeg",value:function(e){var t,i,n,a,r,s,o,u,l,c;return l={},c={},l.x=e.p2.x-e.p1.x,l.y=e.p2.y-e.p1.y,c.x=e.p1.x-this.x,c.y=e.p1.y-this.y,t=l.x*c.x+l.y*c.y,i=2*(l.x*l.x+l.y*l.y),t*=-2,n=Math.sqrt(t*t-2*i*(c.x*c.x+c.y*c.y-this.radius*this.radius)),!isNaN(n)&&(a=(t-n)/i,r=(t+n)/i,o={},u={},s=[],a<=1&&a>=0&&(o.x=e.p1.x+l.x*a,o.y=e.p1.y+l.y*a,s[0]=o),r<=1&&r>=0&&(u.x=e.p1.x+l.x*r,u.y=e.p1.y+l.y*r,s[s.length]=u),s)}},{key:"collisionTo",value:function(e){return"Point"==e.classType?this.distanceTo(e)<=this.radius+e.radius:"Segment"==e.classType?this.inteceptLineSeg(e):void 0}}]),t}();i.default=u},{"./Point":5}],2:[function(e,t,i){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(i,"__esModule",{value:!0});var a=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),r=(function(e){e&&e.__esModule}(e("./Mob")),function(){function e(){n(this,e),this.vitality=1,this.strength=0,this.intel=0,this.wisdom=0,this.agility=0,this.resistances={earth:0,fire:0,nature:0,wind:0,water:0,lightning:0,arcane:0},this.damageBonus={earth:0,fire:0,nature:0,wind:0,water:0,lightning:0,arcane:0}}return a(e,[{key:"applyEffects",value:function(e){for(var t in this)"resistances"==t||"damageBonus"==t||(e[t]+=this[t])}}]),e}());i.default=r},{"./Mob":4}],3:[function(e,t,i){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(i,"__esModule",{value:!0});var a=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),r=function(){function e(){n(this,e)}return a(e,null,[{key:"round10",value:function(e){var t=Math.round(100*e)/100;return t<=.1&&t>=-.1?0:t}}]),e}();i.default=r},{}],4:[function(e,t,i){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(i,"__esModule",{value:!0});var a=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),r=function(e){return e&&e.__esModule?e:{default:e}}(e("./Equipement")),s=function(){function e(){n(this,e),this.life=20,this.lifeMax=20,this.xp=0,this.level=1,this.levelMax=100,this.resource=20,this.resourceMax=20,this.attributPoint=0,this.vitalityBase=0,this.vitality=0,this.strengthBase=0,this.strength=0,this.intelBase=0,this.intel=0,this.wisdomBase=0,this.wisdom=0,this.agilityBase=0,this.agility=0,this.resistances={earth:0,fire:0,nature:0,wind:0,water:0,lightning:0,arcane:0},this.damageBonus={earth:0,fire:0,nature:0,wind:0,water:0,lightning:0,arcane:0},this.equipements={head:new r.default,chest:new r.default,belt:new r.default,legs:new r.default,foot:new r.default,main_hand:new r.default,second_hand:new r.default,ring:new r.default,neck:new r.default,back:new r.default}}return a(e,[{key:"update",value:function(){this.vitality=this.vitalityBase,this.strength=this.strengthBase,this.intel=this.intelBase,this.wisdom=this.wisdomBase,this.agility=this.agilityBase,this.resistances={earth:0,fire:0,nature:0,wind:0,water:0,lightning:0,arcane:0},this.damageBonus={earth:0,fire:0,nature:0,wind:0,water:0,lightning:0,arcane:0};for(var e in this.equipements)this.equipements[e].applyEffects(this)}},{key:"avoid",value:function(){return(this.agility>120?60:.5*this.agility)>100*Math.random()}},{key:"getMinDamage",value:function(e){var t=void 0;switch(e){case earth:case nature:case wind:case water:t=this.strength;break;case lightning:t=0;break;case fire:t=this.intel;break;case arcane:t=.5*this.wisdom;break;default:t=1}return t*=Math.round(this.damageBonus[e]/100)}},{key:"getMaxDamage",value:function(e){var t=void 0;switch(e){case earth:case nature:case wind:case water:t=this.agility+this.level+this.strength;break;case lightning:t=2*this.intel+this.level;break;case fire:t=this.intel+this.level+this.intel;break;case arcane:t=this.intel+this.level+.5*this.wisdom;break;default:t=1}return t*=Math.round(this.damageBonus[e]/100)}},{key:"inflict",value:function(e,t){var i=void 0;switch(t){case earth:case nature:case wind:case water:i=Math.random()*(this.agility+this.level)+this.strength;break;case lightning:i=Math.random()*(2*this.intel+this.level);break;case fire:i=Math.random()*(this.intel+this.level)+this.intel;break;case arcane:i=Math.random()*(this.intel+this.level)+.5*this.wisdom;break;default:i=1}i*=this.damageBonus[t]/100,e.take(Math.round(i),t)}},{key:"take",value:function(e,t){var i=this.resistances[t]/100;"arcane"!=t&&this.avoid()||(this.life-=e*i,this.isAlive())}},{key:"isAlive",value:function(){return this.life>0||(this.respawn(),!1)}},{key:"respawn",value:function(){this.life=this.lifeMax}},{key:"isLeveling",value:function(){this.xp>=100*this.level&&this.levelUp(1)}},{key:"levelUp",value:function(e){this.level<this.levelMax&&(this.attributPoint++,this.xp-=100*this.level,this.xp=this.xp<0?0:this.xp,this.level+=e,this.isLeveling())}}]),e}();i.default=s},{"./Equipement":2}],5:[function(e,t,i){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(i,"__esModule",{value:!0});var s=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),o=function(e){return e&&e.__esModule?e:{default:e}}(e("./Geometry")),u=function(e){function t(e,i){n(this,t);var r=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return r.x=e||0,r.y=i||0,r.classType="Point",r.lastPosition={x:0,y:0},r}return r(t,o.default),s(t,[{key:"getObject",value:function(){return{x:this.x,y:this.y}}},{key:"setLastPosition",value:function(){this.lastPosition=this.getObject}},{key:"translate",value:function(e,t){this.setLastPosition(),this.x+=e,this.y+=t}},{key:"add",value:function(e){this.setLastPosition(),this.translate(e.x,e.y)}},{key:"soustract",value:function(e){this.setLastPosition(),this.translate(-e.x,-e.y)}},{key:"divide",value:function(e){this.setLastPosition(),this.x/=e.x,this.y/=e.y}},{key:"multiply",value:function(e){this.setLastPosition(),this.x*=e.x,this.y*=e.y}},{key:"angleTo",value:function(e){return Math.atan2(e.y-this.y,e.x-this.x)}},{key:"distanceTo",value:function(e){var t=e.x-this.x,i=e.y-this.y;return Math.sqrt(t*t+i*i)}},{key:"signTo",value:function(e,t){return(this.x-t.x)*(e.y-t.y)-(e.x-t.x)*(this.y-t.y)}},{key:"inTriangle",value:function(e,t,i,n){var a=void 0,r=void 0,s=void 0;return n?(a=this.signTo(e,t)<0,r=this.signTo(t,i)<0,s=this.signTo(i,e)<0):(a=this.signTo(e,t)<=0,r=this.signTo(t,i)<=0,s=this.signTo(i,e)<=0),a==r&&r==s}}]),t}();i.default=u},{"./Geometry":3}],6:[function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}var a=n(e("./Geometry")),r=n(e("./Point")),s=n(e("./Circle")),o=n(e("./Mob")),u=n(e("./Equipement"));window.Geometry=a.default,window.Point=r.default,window.Circle=s.default,window.Mob=o.default,window.Equipement=u.default,function(){io();var e=new o.default;console.log(e),setTimeout(function(){e.update(),console.log(e)},1e4)}()},{"./Circle":1,"./Equipement":2,"./Geometry":3,"./Mob":4,"./Point":5}]},{},[6]);
//# sourceMappingURL=client.js.map
